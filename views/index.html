<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat Rooms</title>
    <link rel="stylesheet" href="/libs/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/styles/index.css" />
    <script src="/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/libs/jquery/jquery.min.js"></script>
  </head>
  <body class="bg-light">
    <div
      class="offcanvas-lg offcanvas-start"
      style="width: 280px"
      data-bs-scroll="true"
      data-bs-backdrop="false"
      tabindex="-1"
      id="offcanvas"
      aria-labelledby="offcanvasLabel"
    >
      <div class="offcanvas-header flex-column align-items-start">
        <div class="btn-group w-100 mb-2">
          <button id="mode-rooms" class="btn btn-primary">Rooms</button>
          <button id="mode-users" class="btn btn-outline-primary">Messages</button>
        </div>
        <h5 id="sidebar-title" class="offcanvas-title" id="offcanvasLabel">Rooms</h5>
        <button
          type="button"
          class="btn-close d-lg-none"
          data-bs-dismiss="offcanvas"
          data-bs-target="#offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body flex-column">
        <nav id="sidebar-list" class="nav flex-column w-100"></nav>
        <button id="logout-btn" class="btn btn-outline-danger btn-sm m-4">
          Logout
        </button>
      </div>
    </div>
    <div class="main-content p-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
          <button
            class="btn btn-primary d-lg-none me-2"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvas"
          >
            Menu
          </button>
          <span id="current-room-name" class="h4"></span>
        </div>
      </div>
      <div id="welcome-message" class="text-center text-muted mt-5">
        <h3>Welcome to Chat</h3>
        <p>Select a room from the sidebar to start chatting</p>
      </div>

      <div id="chat-container" class="chat-container" style="display: none">
        <div id="messages-area" class="messages-area"></div>
        <div id="typing-indicator" class="typing-indicator" style="display: none">
          <span id="typing-username"></span> is typing...
        </div>
        <form id="message-form" class="d-flex gap-2">
          <input
            type="text"
            id="message-input"
            class="form-control"
            placeholder="Type a message..."
            required
          />
          <button type="submit" class="btn btn-primary">Send</button>
        </form>
      </div>
    </div>
  </body>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/scripts/client.js"></script>
  <script src="/scripts/index.js"></script>
</html>
